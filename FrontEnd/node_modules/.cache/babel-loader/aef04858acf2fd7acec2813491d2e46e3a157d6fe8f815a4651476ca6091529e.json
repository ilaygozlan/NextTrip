{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import styled from\"styled-components\";import config from\"../config\";import{useUser}from\"../contexts/UserContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #3498db, #2c3e50);\n  padding: 2rem;\n`;const FormContainer=styled.div`\n  background: white;\n  padding: 2.5rem;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  width: 100%;\n  max-width: 400px;\n`;const Title=styled.h1`\n  color: #2c3e50;\n  text-align: center;\n  margin-bottom: 2rem;\n  font-size: 2rem;\n`;const Form=styled.form`\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n`;const FormGroup=styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n`;const Label=styled.label`\n  color: #2c3e50;\n  font-weight: 500;\n`;const Input=styled.input`\n  padding: 0.75rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 1rem;\n  transition: border-color 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #3498db;\n  }\n`;const Button=styled.button`\n  background: #3498db;\n  color: white;\n  padding: 0.75rem;\n  border: none;\n  border-radius: 4px;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background: #2980b9;\n  }\n`;const LoginLink=styled.div`\n  text-align: center;\n  margin-top: 1.5rem;\n  color: #7f8c8d;\n\n  a {\n    color: #3498db;\n    text-decoration: none;\n    font-weight: 500;\n\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n`;const ContinueButton=styled.button`\n  background: rgb(249, 191, 97); /* צבע כתום */\n  color: white;\n  padding: 0.75rem 1.5rem;\n  border: none;\n  border-radius: 8px;\n  font-size: 1.1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n  display: block;\n  margin: 2rem auto 0 auto; /* מרכז את הכפתור */\n\n  &:hover {\n    background: rgb(213, 141, 77);\n  }\n`;const ErrorMessage=styled.div`\n  color: #e74c3c;\n  text-align: center;\n  margin-bottom: 1rem;\n`;const UserTypeToggle=styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 1rem;\n`;const ToggleButton=styled.button`\n  flex: 1;\n  padding: 0.75rem;\n  border: 1px solid #3498db;\n  background: ${props=>props.active?\"#3498db\":\"white\"};\n  color: ${props=>props.active?\"white\":\"#3498db\"};\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background: ${props=>props.active?\"#2980b9\":\"#f7f9fc\"};\n  }\n`;function Signup(){const[userType,setUserType]=useState(\"traveler\");const{user,setUser}=useUser();const navigate=useNavigate();const handleContinue=()=>{setUser(prev=>({...prev,userType:userType}));const postUserType=async()=>{try{const response=await fetch(\"https://6bmdup2xzi.execute-api.us-east-1.amazonaws.com/prod/setUserType\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:user===null||user===void 0?void 0:user.Email,userType:userType})});if(!response.ok){throw new Error(`Failed to update user type: ${response.statusText}`);}const data=await response.json();console.log(\"User type updated successfully:\",data);}catch(error){console.error(\"Error updating user type:\",error);}};if(user!==null&&user!==void 0&&user.Email&&userType){postUserType();}navigate(\"/\");};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(Title,{children:\"Next Trip\"}),/*#__PURE__*/_jsxs(UserTypeToggle,{children:[/*#__PURE__*/_jsx(ToggleButton,{type:\"button\",active:userType===\"traveler\",onClick:()=>{setUserType(\"traveler\");console.log(\"userType:\",\"traveler\");},children:\"Traveler\"}),/*#__PURE__*/_jsx(ToggleButton,{type:\"button\",active:userType===\"business\",onClick:()=>{setUserType(\"business\");console.log(\"userType:\",\"business\");},children:\"Business\"})]}),/*#__PURE__*/_jsx(ContinueButton,{type:\"button\",onClick:()=>{handleContinue();},children:\"Continue\"})]})});}export default Signup;","map":{"version":3,"names":["React","useState","Link","useNavigate","styled","config","useUser","jsx","_jsx","jsxs","_jsxs","Container","div","FormContainer","Title","h1","Form","form","FormGroup","Label","label","Input","input","Button","button","LoginLink","ContinueButton","ErrorMessage","UserTypeToggle","ToggleButton","props","active","Signup","userType","setUserType","user","setUser","navigate","handleContinue","prev","postUserType","response","fetch","method","headers","body","JSON","stringify","email","Email","ok","Error","statusText","data","json","console","log","error","children","type","onClick"],"sources":["C:/Users/user/Downloads/NextTrip_Frontend/NextTrip/FrontEnd/src/pages/Signup.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport config from \"../config\";\r\nimport { useUser } from \"../contexts/UserContext\";\r\n\r\nconst Container = styled.div`\r\n  min-height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(135deg, #3498db, #2c3e50);\r\n  padding: 2rem;\r\n`;\r\n\r\nconst FormContainer = styled.div`\r\n  background: white;\r\n  padding: 2.5rem;\r\n  border-radius: 8px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  width: 100%;\r\n  max-width: 400px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  color: #2c3e50;\r\n  text-align: center;\r\n  margin-bottom: 2rem;\r\n  font-size: 2rem;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1.5rem;\r\n`;\r\n\r\nconst FormGroup = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 0.5rem;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  color: #2c3e50;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 0.75rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  transition: border-color 0.3s ease;\r\n\r\n  &:focus {\r\n    outline: none;\r\n    border-color: #3498db;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  background: #3498db;\r\n  color: white;\r\n  padding: 0.75rem;\r\n  border: none;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n\r\n  &:hover {\r\n    background: #2980b9;\r\n  }\r\n`;\r\n\r\nconst LoginLink = styled.div`\r\n  text-align: center;\r\n  margin-top: 1.5rem;\r\n  color: #7f8c8d;\r\n\r\n  a {\r\n    color: #3498db;\r\n    text-decoration: none;\r\n    font-weight: 500;\r\n\r\n    &:hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n`;\r\n\r\nconst ContinueButton = styled.button`\r\n  background: rgb(249, 191, 97); /* צבע כתום */\r\n  color: white;\r\n  padding: 0.75rem 1.5rem;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 1.1rem;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n  display: block;\r\n  margin: 2rem auto 0 auto; /* מרכז את הכפתור */\r\n\r\n  &:hover {\r\n    background: rgb(213, 141, 77);\r\n  }\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: #e74c3c;\r\n  text-align: center;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst UserTypeToggle = styled.div`\r\n  display: flex;\r\n  gap: 1rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst ToggleButton = styled.button`\r\n  flex: 1;\r\n  padding: 0.75rem;\r\n  border: 1px solid #3498db;\r\n  background: ${(props) => (props.active ? \"#3498db\" : \"white\")};\r\n  color: ${(props) => (props.active ? \"white\" : \"#3498db\")};\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: ${(props) => (props.active ? \"#2980b9\" : \"#f7f9fc\")};\r\n  }\r\n`;\r\n\r\nfunction Signup() {\r\n  const [userType, setUserType] = useState(\"traveler\");\r\n  const { user, setUser } = useUser();\r\n  const navigate = useNavigate();\r\n\r\n  const handleContinue = () => {\r\n    setUser((prev) => ({ ...prev, userType: userType }));\r\n\r\n    const postUserType = async () => {\r\n\r\n      try {\r\n        const response = await fetch(\r\n          \"https://6bmdup2xzi.execute-api.us-east-1.amazonaws.com/prod/setUserType\",\r\n          {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n              email: user?.Email,\r\n              userType: userType,\r\n            }),\r\n          }\r\n        );\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to update user type: ${response.statusText}`);\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log(\"User type updated successfully:\", data);\r\n      } catch (error) {\r\n        console.error(\"Error updating user type:\", error);\r\n      }\r\n    };\r\n\r\n    if (user?.Email && userType) {\r\n      postUserType();\r\n    }\r\n     navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <FormContainer>\r\n        <Title>Next Trip</Title>\r\n        <UserTypeToggle>\r\n          <ToggleButton\r\n            type=\"button\"\r\n            active={userType === \"traveler\"}\r\n            onClick={() => {\r\n              setUserType(\"traveler\");\r\n              console.log(\"userType:\", \"traveler\");\r\n            }}\r\n          >\r\n            Traveler\r\n          </ToggleButton>\r\n          <ToggleButton\r\n            type=\"button\"\r\n            active={userType === \"business\"}\r\n            onClick={() => {\r\n              setUserType(\"business\");\r\n              console.log(\"userType:\", \"business\");\r\n            }}\r\n          >\r\n            Business\r\n          </ToggleButton>\r\n        </UserTypeToggle>\r\n        <ContinueButton type=\"button\" onClick={()=>{handleContinue()}}>\r\n          Continue\r\n        </ContinueButton>\r\n      </FormContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,OAASC,OAAO,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,SAAS,CAAGP,MAAM,CAACQ,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGT,MAAM,CAACQ,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAE,KAAK,CAAGV,MAAM,CAACW,EAAE;AACvB;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,IAAI,CAAGZ,MAAM,CAACa,IAAI;AACxB;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGd,MAAM,CAACQ,GAAG;AAC5B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAO,KAAK,CAAGf,MAAM,CAACgB,KAAK;AAC1B;AACA;AACA,CAAC,CAED,KAAM,CAAAC,KAAK,CAAGjB,MAAM,CAACkB,KAAK;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,MAAM,CAAGnB,MAAM,CAACoB,MAAM;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGrB,MAAM,CAACQ,GAAG;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAc,cAAc,CAAGtB,MAAM,CAACoB,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAG,YAAY,CAAGvB,MAAM,CAACQ,GAAG;AAC/B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAgB,cAAc,CAAGxB,MAAM,CAACQ,GAAG;AACjC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAiB,YAAY,CAAGzB,MAAM,CAACoB,MAAM;AAClC;AACA;AACA;AACA,gBAAiBM,KAAK,EAAMA,KAAK,CAACC,MAAM,CAAG,SAAS,CAAG,OAAQ;AAC/D,WAAYD,KAAK,EAAMA,KAAK,CAACC,MAAM,CAAG,OAAO,CAAG,SAAU;AAC1D;AACA;AACA;AACA;AACA;AACA,kBAAmBD,KAAK,EAAMA,KAAK,CAACC,MAAM,CAAG,SAAS,CAAG,SAAU;AACnE;AACA,CAAC,CAED,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGjC,QAAQ,CAAC,UAAU,CAAC,CACpD,KAAM,CAAEkC,IAAI,CAAEC,OAAQ,CAAC,CAAG9B,OAAO,CAAC,CAAC,CACnC,KAAM,CAAA+B,QAAQ,CAAGlC,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAmC,cAAc,CAAGA,CAAA,GAAM,CAC3BF,OAAO,CAAEG,IAAI,GAAM,CAAE,GAAGA,IAAI,CAAEN,QAAQ,CAAEA,QAAS,CAAC,CAAC,CAAC,CAEpD,KAAM,CAAAO,YAAY,CAAG,KAAAA,CAAA,GAAY,CAE/B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAC1B,yEAAyE,CACzE,CACEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,KAAK,CAAEb,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEc,KAAK,CAClBhB,QAAQ,CAAEA,QACZ,CAAC,CACH,CACF,CAAC,CAED,GAAI,CAACQ,QAAQ,CAACS,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,+BAA+BV,QAAQ,CAACW,UAAU,EAAE,CAAC,CACvE,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAZ,QAAQ,CAACa,IAAI,CAAC,CAAC,CAClCC,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEH,IAAI,CAAC,CACtD,CAAE,MAAOI,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAAC,CAED,GAAItB,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEc,KAAK,EAAIhB,QAAQ,CAAE,CAC3BO,YAAY,CAAC,CAAC,CAChB,CACCH,QAAQ,CAAC,GAAG,CAAC,CAChB,CAAC,CAED,mBACE7B,IAAA,CAACG,SAAS,EAAA+C,QAAA,cACRhD,KAAA,CAACG,aAAa,EAAA6C,QAAA,eACZlD,IAAA,CAACM,KAAK,EAAA4C,QAAA,CAAC,WAAS,CAAO,CAAC,cACxBhD,KAAA,CAACkB,cAAc,EAAA8B,QAAA,eACblD,IAAA,CAACqB,YAAY,EACX8B,IAAI,CAAC,QAAQ,CACb5B,MAAM,CAAEE,QAAQ,GAAK,UAAW,CAChC2B,OAAO,CAAEA,CAAA,GAAM,CACb1B,WAAW,CAAC,UAAU,CAAC,CACvBqB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,UAAU,CAAC,CACtC,CAAE,CAAAE,QAAA,CACH,UAED,CAAc,CAAC,cACflD,IAAA,CAACqB,YAAY,EACX8B,IAAI,CAAC,QAAQ,CACb5B,MAAM,CAAEE,QAAQ,GAAK,UAAW,CAChC2B,OAAO,CAAEA,CAAA,GAAM,CACb1B,WAAW,CAAC,UAAU,CAAC,CACvBqB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAE,UAAU,CAAC,CACtC,CAAE,CAAAE,QAAA,CACH,UAED,CAAc,CAAC,EACD,CAAC,cACjBlD,IAAA,CAACkB,cAAc,EAACiC,IAAI,CAAC,QAAQ,CAACC,OAAO,CAAEA,CAAA,GAAI,CAACtB,cAAc,CAAC,CAAC,EAAE,CAAAoB,QAAA,CAAC,UAE/D,CAAgB,CAAC,EACJ,CAAC,CACP,CAAC,CAEhB,CAEA,cAAe,CAAA1B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}