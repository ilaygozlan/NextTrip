{"ast":null,"code":"import React,{useState}from\"react\";import styled from\"styled-components\";import{useUser}from\"../contexts/UserContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div`\n  padding: 2rem;\n  max-width: 1000px;\n  margin: auto;\n  text-align: center;\n`;const Button=styled.button`\n  padding: 1rem 2rem;\n  background: linear-gradient(135deg, #ff5722, #ff9800);\n  margin: 35px;\n  color: white;\n  border: none;\n  border-radius: 2rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n  transition: transform 0.2s ease;\n  &:hover {\n    transform: scale(1.05);\n  }\n`;const TripCard=styled.div`\n  background: #1e1e2f;\n  color: white;\n  border-radius: 1rem;\n  padding: 2rem;\n  margin-top: 2rem;\n  box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\n`;const BusinessCard=styled.div`\n  background: #2a2a3d;\n  margin-top: 1rem;\n  padding: 1rem;\n  border-radius: 0.75rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: inset 0 0 10px #00000030;\n`;const SaveButton=styled.button`\n  margin-top: 1rem;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: 0.5rem;\n  background-color: #4caf50;\n  color: white;\n  font-weight: bold;\n  cursor: pointer;\n`;const TripRecommendationPage=()=>{const[loading,setLoading]=useState(false);const[recommendations,setRecommendations]=useState([]);const[savedTrips,setSavedTrips]=useState([]);const[saved,setSaved]=useState(false);const{user}=useUser();const generateTrip=async()=>{setLoading(true);setSaved(false);try{const response=await fetch(`https://6bmdup2xzi.execute-api.us-east-1.amazonaws.com/prod/RecommendTrip?email=${user.Email}`);const data=await response.json();setRecommendations(data||[]);console.log(data);}catch(error){console.error(\"Failed to fetch recommendations:\",error);}finally{setLoading(false);}};const saveTrip=async trip=>{try{await fetch(`https://6bmdup2xzi.execute-api.us-east-1.amazonaws.com/prod/SaveRecommendedTrip`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:user.Email,savedTrip:[trip],// send only this one trip\ntimestamp:Date.now()})});setSavedTrips(prev=>[...prev,trip.country]);// mark as saved\n}catch(error){console.error(\"Error saving trip:\",error);}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDF0D Your Futuristic Travel Plan \\u2728\"}),/*#__PURE__*/_jsx(Button,{onClick:generateTrip,disabled:loading,children:loading?\"Generating...\":\"Generate My Dream Trip\"}),recommendations.map((rec,i)=>/*#__PURE__*/_jsxs(TripCard,{children:[/*#__PURE__*/_jsx(\"h2\",{children:rec.country}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Recommendation Score: \",rec.score]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Must-Visit Places:\"}),rec.topBusinesses.map((biz,idx)=>/*#__PURE__*/_jsxs(BusinessCard,{children:[/*#__PURE__*/_jsx(\"span\",{children:biz.name}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2B50 \",biz.score]})]},idx)),!savedTrips.includes(rec.country)?/*#__PURE__*/_jsx(SaveButton,{onClick:()=>saveTrip(rec),children:\"Save This Trip\"}):/*#__PURE__*/_jsxs(\"p\",{style:{color:\"#4caf50\",marginTop:\"1rem\"},children:[\"Trip to \",rec.country,\" saved \\u2714\\uFE0F\"]})]},i)),saved&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"#4caf50\",marginTop:\"1rem\"},children:\"Trip saved successfully! \\u2714\\uFE0F\"})]});};export default TripRecommendationPage;","map":{"version":3,"names":["React","useState","styled","useUser","jsx","_jsx","jsxs","_jsxs","Container","div","Button","button","TripCard","BusinessCard","SaveButton","TripRecommendationPage","loading","setLoading","recommendations","setRecommendations","savedTrips","setSavedTrips","saved","setSaved","user","generateTrip","response","fetch","Email","data","json","console","log","error","saveTrip","trip","method","headers","body","JSON","stringify","email","savedTrip","timestamp","Date","now","prev","country","children","onClick","disabled","map","rec","i","score","topBusinesses","biz","idx","name","includes","style","color","marginTop"],"sources":["C:/Users/user/Downloads/NextTrip_Frontend/NextTrip/FrontEnd/src/pages/TripReccomendation.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useUser } from \"../contexts/UserContext\";\r\n\r\nconst Container = styled.div`\r\n  padding: 2rem;\r\n  max-width: 1000px;\r\n  margin: auto;\r\n  text-align: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 1rem 2rem;\r\n  background: linear-gradient(135deg, #ff5722, #ff9800);\r\n  margin: 35px;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 2rem;\r\n  font-size: 1.5rem;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n  &:hover {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst TripCard = styled.div`\r\n  background: #1e1e2f;\r\n  color: white;\r\n  border-radius: 1rem;\r\n  padding: 2rem;\r\n  margin-top: 2rem;\r\n  box-shadow: 0 0 15px rgba(0, 0, 0, 0.3);\r\n`;\r\n\r\nconst BusinessCard = styled.div`\r\n  background: #2a2a3d;\r\n  margin-top: 1rem;\r\n  padding: 1rem;\r\n  border-radius: 0.75rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: inset 0 0 10px #00000030;\r\n`;\r\n\r\nconst SaveButton = styled.button`\r\n  margin-top: 1rem;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-radius: 0.5rem;\r\n  background-color: #4caf50;\r\n  color: white;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst TripRecommendationPage = () => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [savedTrips, setSavedTrips] = useState([]);\r\n  const [saved, setSaved] = useState(false);\r\n  const { user } = useUser();\r\n\r\n  const generateTrip = async () => {\r\n    setLoading(true);\r\n    setSaved(false);\r\n    try {\r\n      const response = await fetch(\r\n        `https://6bmdup2xzi.execute-api.us-east-1.amazonaws.com/prod/RecommendTrip?email=${user.Email}`\r\n      );\r\n      const data = await response.json();\r\n      setRecommendations(data || []);\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch recommendations:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const saveTrip = async (trip) => {\r\n    try {\r\n      await fetch(\r\n        `https://6bmdup2xzi.execute-api.us-east-1.amazonaws.com/prod/SaveRecommendedTrip`,\r\n        {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify({\r\n            email: user.Email,\r\n            savedTrip: [trip], // send only this one trip\r\n            timestamp: Date.now(),\r\n          }),\r\n        }\r\n      );\r\n      setSavedTrips((prev) => [...prev, trip.country]); // mark as saved\r\n    } catch (error) {\r\n      console.error(\"Error saving trip:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <h1>üåç Your Futuristic Travel Plan ‚ú®</h1>\r\n      <Button onClick={generateTrip} disabled={loading}>\r\n        {loading ? \"Generating...\" : \"Generate My Dream Trip\"}\r\n      </Button>\r\n\r\n      {recommendations.map((rec, i) => (\r\n        <TripCard key={i}>\r\n          <h2>{rec.country}</h2>\r\n          <p>Recommendation Score: {rec.score}</p>\r\n          <h3>Must-Visit Places:</h3>\r\n          {rec.topBusinesses.map((biz, idx) => (\r\n            <BusinessCard key={idx}>\r\n              <span>{biz.name}</span>\r\n              <span>‚≠ê {biz.score}</span>\r\n            </BusinessCard>\r\n          ))}\r\n\r\n          {!savedTrips.includes(rec.country) ? (\r\n            <SaveButton onClick={() => saveTrip(rec)}>\r\n              Save This Trip\r\n            </SaveButton>\r\n          ) : (\r\n            <p style={{ color: \"#4caf50\", marginTop: \"1rem\" }}>\r\n              Trip to {rec.country} saved ‚úîÔ∏è\r\n            </p>\r\n          )}\r\n        </TripCard>\r\n      ))}\r\n\r\n\r\n      {saved && (\r\n        <p style={{ color: \"#4caf50\", marginTop: \"1rem\" }}>\r\n          Trip saved successfully! ‚úîÔ∏è\r\n        </p>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TripRecommendationPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}