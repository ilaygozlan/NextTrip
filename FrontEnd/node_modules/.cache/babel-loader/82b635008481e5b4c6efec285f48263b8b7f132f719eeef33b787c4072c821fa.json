{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Downloads\\\\NextTrip_Frontend\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ComposableMap, Geographies, Geography, Marker } from \"react-simple-maps\";\nimport geoData from \"../features.json\";\nimport { geoCentroid } from \"d3-geo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapComponent = () => {\n  _s();\n  const [visitedCountries, setVisitedCountries] = useState([]);\n  const [selected, setSelected] = useState(null); // { geo, coordinates }\n\n  const handleClick = geo => {\n    const centroid = geoCentroid(geo); // החישוב התקני\n    setSelected({\n      geo,\n      coordinates: centroid\n    });\n  };\n  const markAsVisited = () => {\n    const code = selected.geo.properties.ISO_A3;\n    if (!visitedCountries.includes(code)) {\n      setVisitedCountries([...visitedCountries, code]);\n    }\n  };\n  const geoCentroid = geo => {\n    // מצא את הנקודה הגיאוגרפית המרכזית של המדינה\n    const [minLng, minLat] = geo.bbox.slice(0, 2);\n    const [maxLng, maxLat] = geo.bbox.slice(2, 4);\n    return [(minLng + maxLng) / 2, (minLat + maxLat) / 2];\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ComposableMap, {\n      projection: \"geoMercator\",\n      children: [/*#__PURE__*/_jsxDEV(Geographies, {\n        geography: geoData,\n        children: ({\n          geographies\n        }) => geographies.map(geo => {\n          const code = geo.properties.ISO_A3;\n          const isVisited = visitedCountries.includes(code);\n          return /*#__PURE__*/_jsxDEV(Geography, {\n            geography: geo,\n            onClick: () => handleClick(geo),\n            style: {\n              default: {\n                fill: isVisited ? '#66bb6a' : '#D6D6DA',\n                outline: 'none',\n                cursor: 'pointer'\n              },\n              hover: {\n                fill: isVisited ? '#388e3c' : '#F53',\n                outline: 'none'\n              },\n              pressed: {\n                fill: isVisited ? '#2e7d32' : '#E42',\n                outline: 'none'\n              }\n            }\n          }, geo.rsmKey, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this), selected && selected.coordinates && /*#__PURE__*/_jsxDEV(Marker, {\n        coordinates: selected.coordinates,\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          transform: \"translate(-30, -20)\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            width: 80,\n            height: 30,\n            fill: \"white\",\n            stroke: \"#333\",\n            rx: 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: 5,\n            y: 20,\n            fontSize: 12,\n            fill: \"#000\",\n            children: selected.geo.properties.NAME\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1rem'\n      },\n      children: !visitedCountries.includes(selected.geo.properties.ISO_A3) ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: markAsVisited,\n        children: [\"Mark \\\"\", selected.geo.properties.NAME, \"\\\" as Visited\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'green'\n        },\n        children: [\"You've already visited \", selected.geo.properties.NAME, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"zpCCfPUjcRX8xXfJvBnHrDb29NE=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useState","ComposableMap","Geographies","Geography","Marker","geoData","geoCentroid","jsxDEV","_jsxDEV","MapComponent","_s","visitedCountries","setVisitedCountries","selected","setSelected","handleClick","geo","centroid","coordinates","markAsVisited","code","properties","ISO_A3","includes","minLng","minLat","bbox","slice","maxLng","maxLat","children","projection","geography","geographies","map","isVisited","onClick","style","default","fill","outline","cursor","hover","pressed","rsmKey","fileName","_jsxFileName","lineNumber","columnNumber","transform","width","height","stroke","rx","x","y","fontSize","NAME","marginTop","color","_c","$RefreshReg$"],"sources":["C:/Users/user/Downloads/NextTrip_Frontend/src/components/Map.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ComposableMap, Geographies, Geography, Marker } from \"react-simple-maps\";\r\nimport geoData from \"../features.json\";\r\nimport { geoCentroid } from \"d3-geo\";\r\n\r\n\r\nconst MapComponent = () => {\r\n  const [visitedCountries, setVisitedCountries] = useState([]);\r\n  const [selected, setSelected] = useState(null); // { geo, coordinates }\r\n\r\n  const handleClick = (geo) => {\r\n    const centroid = geoCentroid(geo); // החישוב התקני\r\n    setSelected({ geo, coordinates: centroid });\r\n  };\r\n  const markAsVisited = () => {\r\n    const code = selected.geo.properties.ISO_A3;\r\n    if (!visitedCountries.includes(code)) {\r\n      setVisitedCountries([...visitedCountries, code]);\r\n    }\r\n  };\r\n\r\n  const geoCentroid = (geo) => {\r\n    // מצא את הנקודה הגיאוגרפית המרכזית של המדינה\r\n    const [minLng, minLat] = geo.bbox.slice(0, 2);\r\n    const [maxLng, maxLat] = geo.bbox.slice(2, 4);\r\n    return [(minLng + maxLng) / 2, (minLat + maxLat) / 2];\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ComposableMap projection=\"geoMercator\">\r\n        <Geographies geography={geoData}>\r\n          {({ geographies }) =>\r\n            geographies.map((geo) => {\r\n              const code = geo.properties.ISO_A3;\r\n              const isVisited = visitedCountries.includes(code);\r\n\r\n              return (\r\n                <Geography\r\n                  key={geo.rsmKey}\r\n                  geography={geo}\r\n                  onClick={() => handleClick(geo)}\r\n                  style={{\r\n                    default: {\r\n                      fill: isVisited ? '#66bb6a' : '#D6D6DA',\r\n                      outline: 'none',\r\n                      cursor: 'pointer',\r\n                    },\r\n                    hover: {\r\n                      fill: isVisited ? '#388e3c' : '#F53',\r\n                      outline: 'none',\r\n                    },\r\n                    pressed: {\r\n                      fill: isVisited ? '#2e7d32' : '#E42',\r\n                      outline: 'none',\r\n                    },\r\n                  }}\r\n                />\r\n              );\r\n            })\r\n          }\r\n        </Geographies>\r\n\r\n        {/* Tooltip על המפה */}\r\n        {selected && selected.coordinates && (\r\n          <Marker coordinates={selected.coordinates}>\r\n            <g transform=\"translate(-30, -20)\">\r\n              <rect width={80} height={30} fill=\"white\" stroke=\"#333\" rx={5} />\r\n              <text x={5} y={20} fontSize={12} fill=\"#000\">\r\n                {selected.geo.properties.NAME}\r\n              </text>\r\n            </g>\r\n          </Marker>\r\n        )}\r\n      </ComposableMap>\r\n\r\n      {/* כפתור סימון */}\r\n      {selected && (\r\n        <div style={{ marginTop: '1rem' }}>\r\n          {!visitedCountries.includes(selected.geo.properties.ISO_A3) ? (\r\n            <button onClick={markAsVisited}>Mark \"{selected.geo.properties.NAME}\" as Visited</button>\r\n          ) : (\r\n            <p style={{ color: 'green' }}>You've already visited {selected.geo.properties.NAME}.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}