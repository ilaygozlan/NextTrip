{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Downloads\\\\NextTrip_Frontend\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { ComposableMap, Geographies, Geography, Marker } from \"react-simple-maps\";\nimport { geoCentroid } from \"d3-geo\";\nimport geoData from \"../features.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MapComponent = () => {\n  _s();\n  const [visitedCountries, setVisitedCountries] = useState([]);\n  const [selected, setSelected] = useState(null); // { geo, coordinates }\n\n  const handleClick = geo => {\n    var _selected$geo, _selected$geo$propert;\n    if ((selected === null || selected === void 0 ? void 0 : (_selected$geo = selected.geo) === null || _selected$geo === void 0 ? void 0 : (_selected$geo$propert = _selected$geo.properties) === null || _selected$geo$propert === void 0 ? void 0 : _selected$geo$propert.ISO_A3) === geo.properties.ISO_A3) {\n      setSelected(null); // Toggle off\n    } else {\n      const centroid = geoCentroid(geo);\n      setSelected({\n        geo,\n        coordinates: centroid\n      });\n    }\n  };\n  const markAsVisited = () => {\n    const code = selected.geo.properties.ISO_A3;\n    if (!visitedCountries.includes(code)) {\n      setVisitedCountries([...visitedCountries, code]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ComposableMap, {\n      projection: \"geoMercator\",\n      children: [/*#__PURE__*/_jsxDEV(Geographies, {\n        geography: geoData,\n        children: ({\n          geographies\n        }) => geographies.map(geo => {\n          const code = geo.properties.ISO_A3;\n          const isVisited = visitedCountries.includes(code);\n          return /*#__PURE__*/_jsxDEV(Geography, {\n            geography: geo,\n            onClick: () => handleClick(geo),\n            style: {\n              default: {\n                fill: isVisited ? '#66bb6a' : '#D6D6DA',\n                outline: 'none',\n                cursor: 'pointer'\n              },\n              hover: {\n                fill: isVisited ? '#388e3c' : '#F53',\n                outline: 'none'\n              },\n              pressed: {\n                fill: isVisited ? '#2e7d32' : '#E42',\n                outline: 'none'\n              }\n            }\n          }, geo.rsmKey, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), selected && selected.coordinates && /*#__PURE__*/_jsxDEV(Marker, {\n        coordinates: selected.coordinates,\n        children: /*#__PURE__*/_jsxDEV(\"g\", {\n          transform: \"translate(-40, -30)\",\n          children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n            width: 120,\n            height: 40,\n            fill: \"white\",\n            stroke: \"#333\",\n            rx: 5\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: 5,\n            y: 20,\n            fontSize: 12,\n            fill: \"#000\",\n            children: selected.geo.properties.NAME\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n            x: 105,\n            y: 15,\n            fontSize: 14,\n            fill: \"red\",\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: () => setSelected(null),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1rem'\n      },\n      children: !visitedCountries.includes(selected.geo.properties.ISO_A3) ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: markAsVisited,\n        children: [\"Mark \\\"\", selected.geo.properties.NAME, \"\\\" as Visited\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'green'\n        },\n        children: [\"You've already visited \", selected.geo.properties.NAME, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"zpCCfPUjcRX8xXfJvBnHrDb29NE=\");\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useState","ComposableMap","Geographies","Geography","Marker","geoCentroid","geoData","jsxDEV","_jsxDEV","MapComponent","_s","visitedCountries","setVisitedCountries","selected","setSelected","handleClick","geo","_selected$geo","_selected$geo$propert","properties","ISO_A3","centroid","coordinates","markAsVisited","code","includes","children","projection","geography","geographies","map","isVisited","onClick","style","default","fill","outline","cursor","hover","pressed","rsmKey","fileName","_jsxFileName","lineNumber","columnNumber","transform","width","height","stroke","rx","x","y","fontSize","NAME","marginTop","color","_c","$RefreshReg$"],"sources":["C:/Users/user/Downloads/NextTrip_Frontend/src/components/Map.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { ComposableMap, Geographies, Geography, Marker } from \"react-simple-maps\";\r\nimport { geoCentroid } from \"d3-geo\";\r\nimport geoData from \"../features.json\";\r\n\r\nconst MapComponent = () => {\r\n  const [visitedCountries, setVisitedCountries] = useState([]);\r\n  const [selected, setSelected] = useState(null); // { geo, coordinates }\r\n\r\n  const handleClick = (geo) => {\r\n    if (selected?.geo?.properties?.ISO_A3 === geo.properties.ISO_A3) {\r\n      setSelected(null); // Toggle off\r\n    } else {\r\n      const centroid = geoCentroid(geo);\r\n      setSelected({ geo, coordinates: centroid });\r\n    }\r\n  };\r\n\r\n  const markAsVisited = () => {\r\n    const code = selected.geo.properties.ISO_A3;\r\n    if (!visitedCountries.includes(code)) {\r\n      setVisitedCountries([...visitedCountries, code]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ComposableMap projection=\"geoMercator\">\r\n        <Geographies geography={geoData}>\r\n          {({ geographies }) =>\r\n            geographies.map((geo) => {\r\n              const code = geo.properties.ISO_A3;\r\n              const isVisited = visitedCountries.includes(code);\r\n\r\n              return (\r\n                <Geography\r\n                  key={geo.rsmKey}\r\n                  geography={geo}\r\n                  onClick={() => handleClick(geo)}\r\n                  style={{\r\n                    default: {\r\n                      fill: isVisited ? '#66bb6a' : '#D6D6DA',\r\n                      outline: 'none',\r\n                      cursor: 'pointer',\r\n                    },\r\n                    hover: {\r\n                      fill: isVisited ? '#388e3c' : '#F53',\r\n                      outline: 'none',\r\n                    },\r\n                    pressed: {\r\n                      fill: isVisited ? '#2e7d32' : '#E42',\r\n                      outline: 'none',\r\n                    },\r\n                  }}\r\n                />\r\n              );\r\n            })\r\n          }\r\n        </Geographies>\r\n\r\n        {/* Tooltip על המפה */}\r\n        {selected && selected.coordinates && (\r\n          <Marker coordinates={selected.coordinates}>\r\n            <g transform=\"translate(-40, -30)\">\r\n              <rect width={120} height={40} fill=\"white\" stroke=\"#333\" rx={5} />\r\n              <text\r\n                x={5}\r\n                y={20}\r\n                fontSize={12}\r\n                fill=\"#000\"\r\n              >\r\n                {selected.geo.properties.NAME}\r\n              </text>\r\n              <text\r\n                x={105}\r\n                y={15}\r\n                fontSize={14}\r\n                fill=\"red\"\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={() => setSelected(null)}\r\n              >\r\n                ×\r\n              </text>\r\n            </g>\r\n          </Marker>\r\n        )}\r\n      </ComposableMap>\r\n\r\n      {/* כפתור סימון */}\r\n      {selected && (\r\n        <div style={{ marginTop: '1rem' }}>\r\n          {!visitedCountries.includes(selected.geo.properties.ISO_A3) ? (\r\n            <button onClick={markAsVisited}>\r\n              Mark \"{selected.geo.properties.NAME}\" as Visited\r\n            </button>\r\n          ) : (\r\n            <p style={{ color: 'green' }}>\r\n              You've already visited {selected.geo.properties.NAME}.\r\n            </p>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}